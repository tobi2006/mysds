{% extends "base.html" %}



{% block title %}CCCU Law - {{ module }}{% endblock %}

{% block content %}

<h2>Add Students to {{ module }}</h2>


<table>
    <tr>
        <td>
            <input type="checkbox" id="select_llb" onchange="selectLLBStudents()" name="select_llb " /> All LLB
        </td>
        <td>
            <input type="checkbox" id="select_all_items" onchange="selectAllItems()" name="select_all_items" /> All Others
        </td>
    </tr>
</table>

<table id="sortable_table" class="table table-striped table-sortable">
    <thead>
        <tr>
            <th>
            </th>
            {% if more_than_one_year %}
                <th>
                    Year
                </th>
            {% endif %}
            <th>
                Student
            </th>
            <th>
                ID
            </th>
            <th>
                Course
            </th>
        </tr>
    </thead>
    <form action = "", method="post">
    <tbody>
    {% for student in students %}
        <tr>
            <td>
                {% if student.course == llb %}
                    <input type="checkbox" name="selected_student_id" class="LLBCheckbox" value="{{ student.student_id }}">
                {% else %}
                    <input type="checkbox" name="selected_student_id" class="NonLLBCheckbox" value="{{ student.student_id }}">
                {% endif %}

            </td>
            {% if more_than_one_year %}
                <td>
                    {{ student.year }}
                </td>
            {% endif %}
            <td>
                <a href="/student/{{ student.student_id }}">{{ student }}</a>
            </td>
            <td>
                {{ student.student_id }}
            </td>
            <td>
                {{ student.course }}{% if student.qld %} (QLD){% endif %}
            </td>
        </tr>
    {% endfor %}
    </tbody>
</table>

{% csrf_token %}

<input type="submit" value="Add students" class="btn btn-primary">

Please be patient - depending on the number of students you are adding, this can take a little moment.

</form>

<script type="text/javascript">
    function selectAllItems() {  
        var selectAll = $("#select_all_items");  
        $(".NonLLBCheckbox").each(function (index, item) {  
            if (selectAll.prop("checked") != $(item).prop('checked')) {  
                $(item).trigger('click');  
            }  
        });  
    }  

    function selectLLBStudents() {  
        var selectLLB = $("#select_llb");  
        $(".LLBCheckbox").each(function (index, item) {  
            if (selectLLB.prop("checked") != $(item).prop('checked')) {  
                $(item).trigger('click');  
            }  
        });  
    }  
</script>


{% comment %}
Original: 

<script type="text/javascript">
    function selectAllItems() {  
        var selectAll = $("#select_all_items");  
        $(".chkSelectItem").each(function (index, item) {  
            if (selectAll.prop("checked") != $(item).prop('checked')) {  
                $(item).trigger('click');  
            }  
        });  
    }  
</script>

{% endcomment %}


{% endblock %}
