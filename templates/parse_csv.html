{% extends "base.html" %}

{% block title %} Import Data from CSV{% endblock %}

{% block formstart %}
    <form action = "{% url "parse_csv" %}", method="post">
    {% csrf_token %}
{% endblock %}

{% block content %}

<p>
Please select the appropriate table headers and press the "Import data" button at the bottom of the page.
</p>

<p>
Tick the box next to a row if it does not contain student information or you do not want to import this student.
</p>

<p>
If a student is already in the database, new information will be added, and existing information will be overwritten.
</p>

<br><br>


<table id="sortable_table" class="table table-striped table-sortable">
    <thead>
        <tr>
            <td>Ignore</td>
            {% if first_row.0 %}
                <td>{{ form.column_1 }}</td>
            {% endif %}
            {% if first_row.1 %}
                <td>{{ form.column_2 }}</td>
            {% endif %}
            {% if first_row.2 %}
                <td>{{ form.column_3 }}</td>
            {% endif %}
            {% if first_row.3 %}
                <td>{{ form.column_4 }}</td>
            {% endif %}
            {% if first_row.4 %}
                <td>{{ form.column_5 }}</td>
            {% endif %}
            {% if first_row.5 %}
                <td>{{ form.column_6 }}</td>
            {% endif %}
            {% if first_row.6 %}
                <td>{{ form.column_7 }}</td>
            {% endif %}
            {% if first_row.7 %}
                <td>{{ form.column_8 }}</td>
            {% endif %}
            {% if first_row.8 %}
                <td>{{ form.column_9 }}</td>
            {% endif %}
            {% if first_row.9 %}
                <td>{{ form.column_10 }}</td>
            {% endif %}
            {% if first_row.10 %}
                <td>{{ form.column_11 }}</td>
            {% endif %}
            {% if first_row.11 %}
                <td>{{ form.column_12 }}</td>
            {% endif %}
        </tr>
    </thead>
    <tbody>
        {% for line in csv_list %}
            <tr>
                <td>
                    <input type="checkbox" name="exclude" value="{{ forloop.counter }}">
                </td>
                {% for item in line %}
                    <td>
                        {{ item }}
                    </td>
                {% endfor %}
            </tr>
        {% endfor %}
    </tbody>
</table>

<input type="submit" value="Process data" class="btn btn-primary" align=right>

{% endblock %}

{% block formend %}
    </form>
{% endblock %}
